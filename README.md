# **Бакалаврская работа на тему - голосовая идентификация с распознаванием эмоций**

## **Краткое описание**
На главной странице странице происходит идентификация с применением распознавания эмоций. При старте приложения на этой странице будет сгенерирована случайная эмоция и предложение загрузить аудиофайл. Если приложение смогло распознать имя и эмоция в записанной речи совпадает со случайно выбранной, то приложение должно вывести имя. В противном случае вывести причину провала: имя неизвестно или/и эмоция неправильная. 

## **Общие сведения**
Приложение состоит из двух частей:
- Backend на Python с использованием библиотеки PyTorch для создания моделей. *Весь код Backend части подробно задокументирован.*
- Простой Frontend на HTML, CSS, Javascript.

### **Backend**
Backend часть приложения состоит из *конфигурационного файла* и *трех папок: api, loggers, ml*.

- #### **Конфигурационный файл Backend**
    Файл *config.py* хранит множество настроек различных параметров приложения, относящихся к Backend части.
- #### **API**
    В папке *api* хранится единственный файл *routes.py*, через который происходит общение *Frontend* и *Backend* по *REST API*. 
- #### **Loggers**
    В папке *loggers* хранятся два файла: *error_logger.py* и *info_logger.py*. Первый логирует ошибки в консоль. Второй выводит какую-либо полезную информацию в консоль.
- #### **ML**
    Папка с центральным функционалом приложения. В этой папке расположены два файла с моделями и папка с общим функционалом:
    
    - **common** - содержит программы, используемые обеими моделями:
        - Утилиты для предобработки аудиофайлов (удаление шума и тишины, извлечение аудиопризнаков)
        - Программы для аугментации данных
        - Функции для расчета метрик обучения
        - Общие компоненты для процесса обучения и валидации моделей
        - Загрузчик данных для создания обучающих наборов
    
    - **emotions_recognition.py** - модель распознавания эмоций:
    
    - **voice_identification** - модель идентификации имени по голосу:

### **Frontend**
Frontend часть представляет собой простой веб-интерфейс, реализованный с помощью HTML, CSS и JavaScript. Доступна по адресу "/" и предоставляет следующий функционал:

- Генерация случайной эмоции при загрузке страницы

- Интерфейс для загрузки аудиофайла с компьютера пользователя

- Отправка аудиофайла на Backend для обработки обеими моделями

- Отображение результатов идентификации:

    - Успешный результат (зеленый фон) - если голос идентифицирован и эмоция совпадает с заданной

    - Неудачный результат (красный фон) - с указанием причины: имя неизвестно или/и эмоция не соответствует заданной

### **Взаимодействие Frontend и Backend**
Взаимодействие между частями приложения осуществляется через REST API, реализованное в файле routes.py.

### **Установка и запуск**
**ВАЖНО!!! Приложение разрабатывалось в ОС Ubuntu. Поэтому все команды для запуска будут представлены для ОС Ubuntu. Работа приложения на других ОС не гарантируется.**

Для работы приложения требуются:
- Установленный Python
- Менеджер пакетов pip
- ОС Ubuntu

Далее выполните последовательно следующие инструкции:
1) Скачайте репозиторий (например по ссылке: https://github.com/Wondupper/SSU_Bakalavr_VoiceRecognition.git). Затем откройте корневую папку проекта в терминале.
2) Выполните команды:

    1) python3 -m venv venv

    2) source venv/bin/activate 

    3) pip install -r requirements.txt

    4) sudo apt-get install libsox-dev

    5) sudo apt-get install -y sox libsox-fmt-all 

3) Запуск приложения:

    1) cd src 

    2) python main.py

    3) Откройте браузер и перейдите по адресу: localhost:5000



